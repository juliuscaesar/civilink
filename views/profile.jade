extends layout

block content
  .content-box
    .row
      .col-md-3

      .col-md-9
        h3 #{data.firstName} #{data.lastName}
          small    @#{data.username}
        p #{data.bio}
        if data.state
          h4
            small #{data.city}, #{data.state} 
              if data.occ
                &middot; #{data.occ} at #{data.occplace}
      
        .row
          .col-xs-2.col-md-1
            center
              h4.text-primary #{data.points}
              small points
          .col-xs-2.col-md-1
            center
              h4.text-primary #{followers.length}
              small followers
          .col-xs-2.col-md-1
            center
              h4.text-primary #{following.length}
              small following
          .col-xs-2.col-md-1
            center
              h4.text-primary #{data.communities.length}
              small communities
          .col-xs-4.col-md-2
            br
            center
              if ( typeof user !== 'undefined' )
                if (data.id == user.id) 
                  // This user
                else if ( followers.toString().indexOf(user.id) == -1)
                  form.form-horizontal(class='form-follow', action='/profile/#{data.username}/follow/#{data.id}', method='POST')
                    .form-group
                      button.btn.btn-success.btn-xs(type='submit') Follow
                else
                  form.form-horizontal(class='form-unfollow', action='/profile/#{data.username}/unfollow/#{data.id}', method='POST')
                    .form-group
                      button.btn.btn-danger.btn-xs(type='submit') Unfollow

  .content-box
    h4 Activity

    each item in feed
      p #{item.user.firstName} #{item.details}ed the #{item.desttype}

    //ol.breadcrumb
    //  li.active Causes: #{data.causes}
    //h4 Hours Volunteered
    //  small  (verified, total)
    //h4 Events Organized
    //  small  (also attended)
    //h4 Progress of Ideas
    //h4 Requests feed
    //h4 Articles
    //h4 Most active orgs